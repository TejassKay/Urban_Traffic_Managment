<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Traffic Light System</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="dashboard">
    <header>
      <h1>Real-Time AI Traffic Control</h1>
      <p>Monitoring Live Traffic Flow</p>
    </header>

    <section class="traffic-container">
      <!-- North / South Light -->
      <div class="traffic-section">
        <h2>North / South</h2>
        <div class="traffic-light" id="ns-light">
          <div class="light red"></div>
          <div class="light yellow"></div>
          <div class="light green"></div>
        </div>
        <p>Demand: <span id="ns-demand">12</span></p>
      </div>

      <!-- Control Panel -->
      <div class="traffic-info">
        <h2>Current Phase</h2>
        <p id="status">Red Light - Stop</p>

        <div class="countdown">
          <h3>Time Remaining</h3>
          <span id="timer">10</span> s
        </div>

        <div class="stats">
          <h3>Traffic Density</h3>
          <ul>
            <li>North: <span>High</span></li>
            <li>South: <span>Medium</span></li>
            <li>East: <span>Low</span></li>
            <li>West: <span>High</span></li>
          </ul>
        </div>
      </div>

      <!-- East / West Light -->
      <div class="traffic-section">
        <h2>East / West</h2>
        <div class="traffic-light" id="ew-light">
          <div class="light red"></div>
          <div class="light yellow"></div>
          <div class="light green"></div>
        </div>
        <p>Demand: <span id="ew-demand">8</span></p>
      </div>
    </section>
  </div>

  <script>
    const nsLights = document.querySelectorAll("#ns-light .light");
    const ewLights = document.querySelectorAll("#ew-light .light");
    const statusText = document.getElementById("status");
    const timerDisplay = document.getElementById("timer");

    const phases = [
      { ns: "green", ew: "red", text: "North/South Green - Go", time: 10 },
      { ns: "yellow", ew: "red", text: "North/South Yellow - Ready", time: 3 },
      { ns: "red", ew: "green", text: "East/West Green - Go", time: 10 },
      { ns: "red", ew: "yellow", text: "East/West Yellow - Ready", time: 3 }
    ];

    let currentPhase = 0;
    let timeLeft = phases[currentPhase].time;

    function updateLights() {
      // Reset all lights
      nsLights.forEach(light => light.classList.remove("active"));
      ewLights.forEach(light => light.classList.remove("active"));

      // Activate based on phase
      nsLights.forEach(light => {
        if (light.classList.contains(phases[currentPhase].ns)) light.classList.add("active");
      });
      ewLights.forEach(light => {
        if (light.classList.contains(phases[currentPhase].ew)) light.classList.add("active");
      });

      statusText.innerText = phases[currentPhase].text;
      timeLeft = phases[currentPhase].time;
    }

    setInterval(() => {
      timeLeft--;
      timerDisplay.innerText = timeLeft;
      if (timeLeft <= 0) {
        currentPhase = (currentPhase + 1) % phases.length;
        updateLights();
      }
    }, 1000);

    updateLights();
  </script>
</body>
</html>
